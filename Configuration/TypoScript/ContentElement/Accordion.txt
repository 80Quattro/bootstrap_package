############################################
#### CTYPE: BOOTSTRAP PACKAGE ACCORDION ####
############################################

tt_content.bootstrap_package_accordion = COA
tt_content.bootstrap_package_accordion {
    10 =< lib.stdheader
    20 = FLUIDTEMPLATE
    20 {
        file = {$plugin.bootstrap_package_contentelements.view.templateRootPath}Bootstrap/Accordion.html
        partialRootPath = {$plugin.bootstrap_package_contentelements.view.partialRootPath}
        layoutRootPath = {$plugin.bootstrap_package_contentelements.view.layoutRootPath}

        settings {
            media {
                width = {$plugin.bootstrap_package_contentelements.settings.accordion.media.height}
                height = {$plugin.bootstrap_package_contentelements.settings.accordion.media.width}
            }
        }

        # Get Accordion Records
        dataProcessing {
            10 = TYPO3\CMS\Frontend\DataProcessing\DatabaseQueryProcessor
            10 {
                table = tx_bootstrappackage_accordion_item
                where {
                    data = field:uid
                    intval = 1
                    wrap = tt_content=|
                }
                dataProcessing {
                    10 = TYPO3\CMS\Frontend\DataProcessing\FilesProcessor
                    10 {
                        references.fieldName = media
                    }
                }
            }
        }
    }
}
