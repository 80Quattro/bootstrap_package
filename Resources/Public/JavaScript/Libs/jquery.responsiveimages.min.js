+function(t){function i(i){return this.each(function(){var n=t(this),o=n.data("bk2k.responsiveimage"),r="object"==typeof i&&i;o||n.data("bk2k.responsiveimage",o=new e(this,r)),"string"==typeof i&&o[i]()})}var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.attrib="data-src",this.$container=t(this.options.container).on("scroll.bk2k.responsiveimage",t.proxy(this.checkviewport,this)).on("resize.bk2k.responsiveimage",t.proxy(this.checkviewport,this)),this.checkviewport()};e.DEFAULTS={threshold:0,breakpoints:{0:"small",768:"medium",992:"large",1200:"bigger"},attrib:"data-src",container:window,skip_invisible:!1,preload:!1},e.prototype.viewportW=function(){var t=document.documentElement.clientWidth,i=window.innerWidth;return i>t?i:t},e.prototype.viewportH=function(){var t=document.documentElement.clientHeight,i=window.innerHeight;return i>t?i:t},e.prototype.checkviewport=function(){var i=this.viewportW(),e=this.attrib,n=this.attrib;t.each(this.options.breakpoints,function(t,n){i>=t&&(e="data-"+n)}),n!==e&&(this.attrib=e),this.unveil()},e.prototype.boundingbox=function(){var t={},i=this.$element[0].getBoundingClientRect(),e=+this.options.threshold||0;return t.width=(t.right=i.right+e)-(t.left=i.left-e),t.height=(t.bottom=i.bottom+e)-(t.top=i.top-e),t},e.prototype.inviewport=function(){var t=this.boundingbox();return!!t&&t.bottom>=0&&t.right>=0&&t.top<=this.viewportH()&&t.left<=this.viewportW()},e.prototype.unveil=function(){if(this.options.preload||!this.options.skip_invisible||!this.$element.is(":hidden")){var t=this.options.preload||this.inviewport();if(t){var i=this.$element.attr(this.attrib);i=i||this.$element.attr("data-src"),i&&(this.$element.attr("src",i),this.$element.css("opacity",1))}}};var n=t.fn.responsiveimages;t.fn.responsiveimage=i,t.fn.responsiveimage.Constructor=e,t.fn.responsiveimage.noConflict=function(){return t.fn.responsiveimage=n,this},t(window).on("load",function(){t("img.lazyload").each(function(){var e=t(this),n=e.data();i.call(e,n)})})}(jQuery);
